{"ast":null,"code":"var _jsxFileName = \"/Users/yong/development/assignments/module4/ugly-things/src/ContextProvider.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UglyContext = /*#__PURE__*/React.createContext();\n\nconst UglyContextProvider = props => {\n  _s();\n\n  const [uglyItem, setUglyItem] = useState([]);\n  const [inputValues, setValues] = useState({\n    title: \"\",\n    description: \"\",\n    imgUrl: \"\"\n  });\n  console.log(\"UglyContext is triggered\");\n  useEffect(() => {\n    console.log(\"useEffect was called\");\n    getData();\n  }, []);\n\n  const getData = () => {\n    axios.get(\"https://api.vschool.io/yong-cho/thing\").then(res => {\n      console.log(res.data);\n      setUglyItem(res.data.map(item => ({ ...item,\n        isEdit: false\n      })));\n    }).catch(err => console.log(err));\n  };\n\n  const deleteUglyItem = (id, e) => {\n    console.log(\"delete was clicked\");\n    console.log(e.target);\n    axios.delete(`https://api.vschool.io/yong-cho/thing/${id}`).then(res => {\n      // getData()\n      setUglyItem(prevThing => prevThing.filter(thing => thing._id !== id));\n      console.log(\"res\", res);\n    }).catch(err => console.log(err));\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const newThing = {\n      title: inputValues.title,\n      description: inputValues.description,\n      imgUrl: inputValues.imgUrl\n    };\n    axios.post(`https://api.vschool.io/yong-cho/thing/`, newThing).then(res => {\n      console.log(res.data);\n      setUglyItem(prevPost => [...prevPost, res.data]);\n    }).catch(err => console.log(err));\n    setValues({\n      title: \"\",\n      description: \"\",\n      imgUrl: \"\"\n    });\n  };\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setValues({ ...inputValues,\n      [name]: value\n    });\n  };\n\n  const toggleEdit = id => {\n    let newArr = uglyItem.map(item => item._id === id ? { ...item,\n      isEdit: !item.isEdit\n    } : item);\n    return setUglyItem(newArr);\n  };\n\n  const editUgly = (id, e) => {\n    e.preventDefault();\n    axios.put(`https://api.vschool.io/yong-cho/thing/${id}`, {\n      title: inputValues.title,\n      description: inputValues.description\n    }).then(res => {\n      setUglyItem(prevThing => prevThing.map(thing => thing._id !== id ? thing : res.data));\n      console.log(\"res\", res);\n    }).catch(err => console.log(err));\n    setValues({\n      title: \"\",\n      description: \"\",\n      imgUrl: \"\"\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(UglyContext.Provider, {\n    value: {\n      getData,\n      deleteUglyItem,\n      handleChange,\n      handleSubmit,\n      toggleEdit,\n      editUgly,\n      inputValues,\n      uglyItem\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 9\n  }, this);\n};\n\n_s(UglyContextProvider, \"FxSdlbBch1w8pKvUtFGVpy028Eo=\");\n\n_c = UglyContextProvider;\nexport { UglyContext, UglyContextProvider }; //revised on 8/9/21\n\nvar _c;\n\n$RefreshReg$(_c, \"UglyContextProvider\");","map":{"version":3,"sources":["/Users/yong/development/assignments/module4/ugly-things/src/ContextProvider.js"],"names":["React","useState","useEffect","axios","UglyContext","createContext","UglyContextProvider","props","uglyItem","setUglyItem","inputValues","setValues","title","description","imgUrl","console","log","getData","get","then","res","data","map","item","isEdit","catch","err","deleteUglyItem","id","e","target","delete","prevThing","filter","thing","_id","handleSubmit","preventDefault","newThing","post","prevPost","handleChange","name","value","toggleEdit","newArr","editUgly","put","children"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\"\nimport axios from \"axios\"\nconst UglyContext = React.createContext()\n\nconst UglyContextProvider = props => {\n\nconst [uglyItem, setUglyItem] = useState([])\nconst [inputValues, setValues] = useState({\n    title: \"\", \n    description: \"\",\n    imgUrl: \"\"\n})\n\n    console.log(\"UglyContext is triggered\")\n    \n    useEffect(() => {\n        console.log(\"useEffect was called\")\n        getData()\n    }, [])\n\n    const getData = () => {\n        axios.get(\"https://api.vschool.io/yong-cho/thing\")\n        .then(res => {\n            console.log(res.data)\n            setUglyItem(res.data.map(item => ({...item, isEdit: false})))\n        })\n        .catch(err => console.log(err))\n    }\n\n    const deleteUglyItem = (id, e) => {\n        console.log(\"delete was clicked\")\n        console.log(e.target)\n        axios.delete(`https://api.vschool.io/yong-cho/thing/${id}`)\n        .then(res => {\n            // getData()\n            setUglyItem(prevThing => prevThing.filter(thing => thing._id !== id))\n            console.log(\"res\", res)\n            })\n        .catch(err => console.log(err))\n    }\n\n    const handleSubmit = e => {\n        e.preventDefault()\n\n        const newThing = {\n            title: inputValues.title,\n            description: inputValues.description,\n            imgUrl: inputValues.imgUrl\n        }\n        axios.post(`https://api.vschool.io/yong-cho/thing/`, newThing)\n        .then(res => {\n            console.log(res.data)\n            setUglyItem(prevPost => [...prevPost, res.data])\n\n        })\n        .catch(err => (console.log(err)))\n        setValues({title:\"\", description: \"\", imgUrl: \"\"})\n    }\n \n    const handleChange = e => {\n        const {name, value} = e.target\n        setValues({...inputValues, [name]: value})\n    }\n\n    const toggleEdit = (id) => {\n        let newArr = uglyItem.map(item => item._id === id ? {...item, isEdit: !item.isEdit} : item)\n        return setUglyItem(newArr)\n        \n    }\n    const editUgly = (id, e) => {\n        e.preventDefault()\n        axios.put(`https://api.vschool.io/yong-cho/thing/${id}`, {title: inputValues.title, description: inputValues.description})\n        .then(res => {\n            setUglyItem(prevThing => prevThing.map(thing => thing._id !== id ? thing : res.data))\n            console.log(\"res\", res)\n        })\n        .catch(err => console.log(err))\n        setValues({title:\"\", description: \"\", imgUrl: \"\"})\n    }\n\n    return (\n        <UglyContext.Provider value={{getData, deleteUglyItem, handleChange, handleSubmit, toggleEdit, editUgly, inputValues, uglyItem}}>\n            {props.children}\n        </UglyContext.Provider>\n    )\n}\n\nexport {UglyContext, UglyContextProvider}\n\n//revised on 8/9/21"]},"metadata":{},"sourceType":"module"}